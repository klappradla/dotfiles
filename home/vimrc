" Plugins (require vim-plug)
call plug#begin('~/.vim/plugged')
Plug 'ctrlpvim/ctrlp.vim'
Plug 'scrooloose/nerdtree'
Plug 'itchyny/lightline.vim'
Plug 'altercation/vim-colors-solarized'
Plug 'elixir-lang/vim-elixir'
Plug 'tpope/vim-commentary'
Plug 'terryma/vim-multiple-cursors'
Plug 'godlygeek/tabular'
Plug 'plasticboy/vim-markdown'
call plug#end()

" Plugin specific settings
let NERDTreeShowHidden=1
let g:NERDTreeWinSize=25
let g:ctrlp_show_hidden=1
let g:vim_markdown_folding_disabled = 1    " disable auto-folding
let g:vim_markdown_new_list_item_indent=2  " indent lists by 2 spaces in .md files
set laststatus=2
let g:lightline = {'colorscheme': 'solarized'}

" General
set nocompatible                           " vim not vi mode
set mouse=a                                " allow mouse in all modes
set autoread                               " automatically reload buffers
set autowrite                              " automatically save files
set nobackup                               " disable backups
set nowritebackup                          " write file in place
set noswapfile                             " no .swap files
set backspace=indent,eol,start             " make backspace behave normal

" Search
set incsearch                              " incremental search
set ignorecase                             " seach case insensitive...
set smartcase                              " ... unless it contains capital letter
set wildignore+=*/tmp/*,*.so,*.swp,*.zip   " ignore tmp directories
if executable('ag')                        " use the_silver_searcher
  " Use Ag over Grep
  set grepprg=ag\ --nogroup\ --nocolor
  " Use ag in CtrlP for listing files. Lightning fast and respects .gitignore
  let g:ctrlp_user_command = 'ag -Q -l --nocolor --hidden -g "" %s'
  " ag is fast enough that CtrlP doesn't need to cache
  let g:ctrlp_use_caching = 0
  if !exists(":Ag")
    command -nargs=+ -complete=file -bar Ag silent! grep! <args>|cwindow|redraw!
    nnoremap \ :Ag<SPACE>
  endif
endif

" Navigation
nnoremap <C-J> <C-W><C-J>    " faster split navigation
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>

" Editing
set expandtab                              " use softtabs
set tabstop=2
set shiftwidth=2
set shiftround
filetype on                                " filetype detection
filetype plugin on
filetype plugin indent on                  " filetype matching indention
syntax on                                  " syntax highlighting
syntax enable                              " syntax highlighting

" Spelling
autocmd BufRead,BufNewFile *.md setlocal spell   " spell check for markdown files
set complete+=kspell                             " autocomplete words

" Appearance
set ruler                                  " display cursor position
set colorcolumn=80                         " highlight 80 char column
set number                                 " show line numbers
let g:solarized_termtrans=1
colorscheme solarized
set background=dark
set noshowmode                             " hide default status line
